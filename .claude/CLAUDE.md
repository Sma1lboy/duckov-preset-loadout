# PresetLoadout Mod å¼€å‘è¯´æ˜

## ğŸ“¦ é¡¹ç›®ç®€ä»‹

**PresetLoadout** - è£…å¤‡é¢„è®¾ç³»ç»Ÿ

ä¸€ä¸ªç”¨äºã€Šé€ƒç¦»é¸­ç§‘å¤«ã€‹çš„è£…å¤‡é¢„è®¾ç®¡ç† Modï¼Œå…è®¸ç©å®¶ä¿å­˜å’Œå¿«é€Ÿåˆ‡æ¢è£…å¤‡é…ç½®ã€‚

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### ç¼–è¯‘ + éƒ¨ç½²åˆ°æ¸¸æˆ

```bash
./scripts/deploy.sh
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. âœ… ç¼–è¯‘ Mod (Release æ¨¡å¼)
2. âœ… è‡ªåŠ¨éƒ¨ç½²åˆ° Workshop ç›®å½• (ID: 3591339491)
3. âœ… æ˜¾ç¤ºéƒ¨ç½²ç»“æœ

**âš ï¸ æ³¨æ„ï¼š** éƒ¨ç½²åéœ€è¦**é‡å¯æ¸¸æˆ**æ‰èƒ½çœ‹åˆ°æ›´æ–°

### å®æ—¶æŸ¥çœ‹æ¸¸æˆæ—¥å¿—

```bash
./scripts/watch-log.sh
```

---

## ğŸ¯ ä¸»è¦åŠŸèƒ½

### 1. ä¿å­˜é¢„è®¾
- ä¿å­˜å½“å‰èº«ä¸Šçš„è£…å¤‡å’ŒèƒŒåŒ…ç‰©å“
- æ”¯æŒå¤šä¸ªé¢„è®¾æ§½ä½ï¼ˆé»˜è®¤ 3 ä¸ªï¼Œå¯æ‰©å±•ï¼‰

### 2. åº”ç”¨é¢„è®¾
- **Step 0**: è‡ªåŠ¨å°†å½“å‰è£…å¤‡æ”¾å›ä»“åº“
- **Step 1**: è£…å¤‡é¢„è®¾ä¸­çš„è£…å¤‡ï¼ˆæŠ¤ç”²ã€èƒŒåŒ…ç­‰ï¼‰
- **Step 2**: å°†é¢„è®¾ä¸­çš„èƒŒåŒ…ç‰©å“æ”¾å…¥èƒŒåŒ…

### 3. GUI é¢æ¿
- æŒ‰ **L é”®** æ‰“å¼€/å…³é—­é¢æ¿ï¼ˆéœ€è¦å…ˆæ‰“å¼€èƒŒåŒ…ï¼‰
- æ”¯æŒé‡å‘½åé¢„è®¾
- æ”¯æŒæ·»åŠ /åˆ é™¤é¢„è®¾ï¼ˆæœ€å°‘ä¿ç•™ 3 ä¸ªï¼‰

---

## ğŸ—‚ï¸ æ–‡ä»¶ç»“æ„

```
PresetLoadout/
â”œâ”€â”€ ModBehaviour.cs          # ä¸»é€»è¾‘
â”œâ”€â”€ PresetConfig.cs          # æ•°æ®ç»“æ„
â”œâ”€â”€ JsonHelper.cs            # JSON åºåˆ—åŒ–å·¥å…·
â”œâ”€â”€ PresetLoadout.csproj     # é¡¹ç›®é…ç½®
â”œâ”€â”€ deploy.sh                # å¿«é€Ÿéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ info.ini                 # Mod ä¿¡æ¯
â”œâ”€â”€ README.md                # åŠŸèƒ½è¯´æ˜
â””â”€â”€ INSTALL.md               # å®‰è£…æŒ‡å—
```

---

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### 1. ä¿®æ”¹ä»£ç 
ç¼–è¾‘ `ModBehaviour.cs` æˆ–å…¶ä»–æ–‡ä»¶

### 2. éƒ¨ç½²æµ‹è¯•
```bash
./deploy.sh
```

### 3. é‡å¯æ¸¸æˆæµ‹è¯•
- é‡å¯æ¸¸æˆ
- æ‰“å¼€èƒŒåŒ… (Tab)
- æŒ‰ **L** æ‰“å¼€é¢„è®¾é¢æ¿
- æµ‹è¯•åŠŸèƒ½

### 4. æŸ¥çœ‹æ—¥å¿—
```bash
tail -f ~/Library/Logs/TeamSoda/Duckov/Player.log
```

---

## ğŸ› ï¸ å…³é”® API ä½¿ç”¨

### ç‰©å“ç®¡ç†
```csharp
// è·å–ç©å®¶èº«ä¸Šçš„ç‰©å“
item.IsInPlayerCharacter()

// è·å–ä»“åº“ä¸­çš„ç‰©å“
item.IsInPlayerStorage()

// å‘é€åˆ°è§’è‰²ï¼ˆå°è¯•è£…å¤‡ï¼‰
ItemUtilities.SendToPlayerCharacter(item, dontMerge: true)

// å‘é€åˆ°èƒŒåŒ… Inventory
ItemUtilities.SendToPlayerCharacterInventory(item, dontMerge: false)

// å‘é€åˆ°ä»“åº“
ItemUtilities.SendToPlayerStorage(item, directToBuffer: false)
```

### æ•°æ®æŒä¹…åŒ–
```csharp
// åºåˆ—åŒ–
string json = JsonHelper.SerializePresetStorage(presetStorage);

// ååºåˆ—åŒ–
PresetStorage storage = JsonHelper.DeserializePresetStorage(json);
```

---

## ğŸ“‹ é…ç½®æ–‡ä»¶ä½ç½®

**é…ç½®æ–‡ä»¶**:
```
~/Library/Application Support/Unity/com.TeamSoda.Duckov/PresetLoadout_Config.json
```

**éƒ¨ç½²ç›®æ ‡**:
```
~/Library/Application Support/Steam/steamapps/workshop/content/3167020/3591339491/
```

---

## ğŸ› å¸¸è§é—®é¢˜

### ç¼–è¯‘å¤±è´¥
```bash
dotnet clean
dotnet build -c Release
```

### Mod ä¸åŠ è½½
- æ£€æŸ¥ Workshop ç›®å½•ä¸­æ˜¯å¦æœ‰ `PresetLoadout.dll`
- æŸ¥çœ‹æ¸¸æˆæ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### åº”ç”¨é¢„è®¾å¤±è´¥
- ç¡®ä¿ä»“åº“ä¸­æœ‰è¶³å¤Ÿçš„ç‰©å“
- æŸ¥çœ‹æ—¥å¿—è¾“å‡ºäº†è§£å…·ä½“å¤±è´¥åŸå› 

---

## ğŸ“ å¾…ä¼˜åŒ–åŠŸèƒ½

- [ ] æ”¯æŒé¢„è®¾å¯¼å…¥/å¯¼å‡º
- [ ] æ”¯æŒä»ä¸åŒé¢„è®¾å¤åˆ¶é…ç½®
- [ ] æ·»åŠ é¢„è®¾é¢„è§ˆåŠŸèƒ½
- [ ] ä¼˜åŒ– UI å¸ƒå±€å’Œæ ·å¼

---

**æœ€åæ›´æ–°**: 2025-10-25
**å½“å‰ç‰ˆæœ¬**: 1.0
**å¼€å‘çŠ¶æ€**: âœ… å¯ç”¨
